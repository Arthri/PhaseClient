import AutoLinkFormat from "phaseclient/bbcode/autolink";
import TerrariaGlyphs from "phaseclient/bbcode/glyphs";
import Items from "phaseclient/bbcode/items";

const conversions = [
    // Text Style tags
    [
        /\[notag\](\[)(.*?)\[\/notag\]/i,
        "&#91;$2"
    ],
    [
        /\[b\](.*?)\[\/b\]/gi,
        "<b>$1</b>"
    ],
    [
        /\[i\](.*?)\[\/i\]/gi,
        "<i>$1</i>"
    ],
    [
        /\[u\](.*?)\[\/u\]/gi,
        "<u>$1</u>"
    ],
    [
        /\[ul\](.*?)\[\/ul\]/gi,
        "<ul>$1</ul>",
    ],
    [
        /\[li\](.*?)\[\/li\]/gi,
        "<li>$1</li>"
    ],
    [
        /\[s\](.*?)\[\/s\]/,
        '<span style="text-decoration:line-through;">$1</span>'
    ],
    [
        /\[img\](.*?)\[\/img\]/gi,
        '<a href="$1" target="_blank"><img class="post-image" src="$1" /></a>'
    ],
    [
        /\[url=(.*?)\](.*?)\[\/url\]/gi,
        '<a href="$1" target="_blank">$2</a>'
    ],
    [
        /\[url\](.*?)\[\/url\]/gi,
        "$1", // This is now handled by linkify
    ],
    [
        /\[center\](.*?)\[\/center\]/gi,
        '</p><p class="center">$1</p><p class="p_hbreak">'
    ],

    // ASCII
    [
        /&amp;#91;/gi,
        "[",
    ],

    // URL
    [
        /((https:\/\/|http:\/\/)?(www\.)?([a-zA-Z0-9-](?:[a-zA-Z0-9-]|([.])(?!\5)){2,256}?)(\.[a-z]{2,4})(:\d+)?(\/(?:[^\s\n])*?)?(\?[^\s\n]+)?((?:\.(?:jpe?g|gif|png))|(?:\.(?:mp3|ogg|flac|wav)))?($|\s|\n|"|&quot;))/gi,
        AutoLinkFormat
    ],

    // Emoji's
    [
        /\:\)/gi,
        '<img title=":)" src="https://dark-gaming.com/smileys/smile_face.gif" style="width: 15px">'
    ],
    [
        /\:\(/gi,
        '<img title=":(" src="https://dark-gaming.com/smileys/sad_face.gif" style="width: 15px">'
    ],
    [
        /\&gt\;:D/gi,
        '<img title=">&#58;D" src="https://dark-gaming.com/smileys/evil_face.gif" style="width: 15px">'
    ],
    [
        /\:D( |\.|,|$)/gi,
        '<img title=":D" src="https://dark-gaming.com/smileys/grin_face.gif" style="width: 15px">'
    ],
    [
        /\:P( |\.|,|$)/gi,
        '<img title=":P" src="https://dark-gaming.com/smileys/tongue_face.gif" style="width: 15px">'
    ],
    [
        /(^|\s);\)/gi,
        '$1<img title=";)" src="https://dark-gaming.com/smileys/wink_face.gif" style="width: 15px">'
    ],
    [
        /\(evil\)/gi,
        '<img title="(evil)" src="https://dark-gaming.com/smileys/evil_face.gif" style="width: 15px">'
    ],
    [
        /\(bash\)/gi,
        '<img title="(bash)" src="https://dark-gaming.com/smileys/bash_face.gif" style="width: 15px">'
    ],
    [
        /\(poolparty\)/gi,
        '<img title="(poolparty)" src="https://dark-gaming.com/smileys/poolparty.gif" style="width: 15px">'
    ],
    [
        /\(party\)/gi,
        '<img title="(party)" src="https://dark-gaming.com/smileys/party.gif" style="width: 15px">'
    ],
    [
        /\(hi\)/gi,
        '<img title="(hi)" src="https://dark-gaming.com/smileys/hi.gif" style="width: 15px">'
    ],
    [
        /\(knuckles\)/gi,
        '<img title="(knuckles)" src="https://dark-gaming.com/smileys/games_knuckles.gif" style="width: 15px">'
    ],
    [
        /\:O( |$|,|\.)/gi,
        '<img title=":O" src="https://dark-gaming.com/smileys/suprised_face.gif" style="width: 15px">'
    ],
    [
        /\\\o\//gi,
        '<img title="\o/" src="https://dark-gaming.com/smileys/duop.gif" style="width: 15px">'
    ],
    [
        /\[#(.*?)\]/gi,
        "&#$1;"
    ],
    [
        /\[color=(.*?)\](.*?)\[\/color\]/gi,
        '<span style="color:$1;">$2</span>'
    ],
    [
        /\[colour=(.*?)\](.*?)\[\/colour\]/gi,
        '<span style="color:$1;">$2</span>'
    ],
    [
        /:kappa:/gi,
        '<img title=":kappa:" src="https://t.dark-gaming.com:3001/img/kappa.png" style="width: 30px; height: 30px" />'
    ],
    [
        /:sushi:/gi,
        '<img title=":sushi:" src="https://t.dark-gaming.com:3001/img/sushi.png" style="width: 30px; height: 30px" />'
    ],
    [
        /:lol:/gi,
        '<img title=":lol:" src="https://t.dark-gaming.com:3001/img/lol.jpg" style="width: 30px; height: 30px" />'
    ],
    [
        /:troll:/gi,
        '<img title=":troll:" src="https://t.dark-gaming.com:3001/img/trollface.jpg" style="width: 30px; height: 30px" />'
    ],
    [
        /:chicken:/gi,
        '<img title=":chicken:" src="https://t.dark-gaming.com:3001/img/chicken.gif" style="width: 15px; height: 15px" />'
    ],
    [
        /:clap:/gi,
        '<img title=":clap:" src="https://emojipedia-us.s3.amazonaws.com/cache/97/d0/97d09f084fcdf1261ce9f518aeb4e55f.png" style="width: 15px; height: 15px;" />'
    ],
    [
        /:dansgame:/gi,
        '<img title=":dansgame:" src="https://i.imgur.com/bcsvuUH.png" style="width: 25px; height: 25px;" />'
    ],
    [
        /:minglee:/gi,
        '<img title=":minglee:" src="https://i.imgur.com/1wOePqF.png" style="width: 25px; height: 25px;" />'
    ],
    [
        /:lenny:/gi,
        '<img title=":lenny:" src="https://i.imgur.com/jzeVkdW.png" style="max-width: 25px; max-height: 25px;" />'
    ],
    [
        /:pogchamp:/gi,
        '<img title=":pogchamp:" src="https://i.imgur.com/cE4HXho.png" style="width: 30px; height: 30px;" />'
    ],
    [
        /:rip:/gi,
        '<img title=":rip:" src="https://i.imgur.com/yELemIR.png" style="width: 25px; height: 25px;" />'
    ],
    [
        /:pjsalt:/gi,
        '<img title=":pjsalt:" src="https://i.imgur.com/glgscpe.png" style="width: 25px; height: 25px;" />'
    ],
    [
        /:notlikethis:/gi,
        '<img title=":notlikethis:" src="https://i.imgur.com/nCE7WWV.png" style="width: 25px; height: 25px;" />'
    ],
    [
        /:wutface:/gi,
        '<img title=":wutface:" src="https://i.imgur.com/ThRkQt7.png" style="width: 25px; height: 25px;" />'
    ],
    [
        /:pepe:/gi,
        '<img title=":pepe:" src="https://i.imgur.com/eBcNp0e.png" style="width: 25px; height: 25px;" />'
    ],
    [
        /:heart:/gi,
        '<img title=":heart:" src="https://i.imgur.com/fIMf8f5.png" style="width: 25px; height: 25px;" />'
    ],
    [
        /:ok_hand:/gi,
        '<img title=":ok_hande:" src="https://i.imgur.com/PIIU0Pa.png" style="width: 15px; height: 15px;" />'
    ],
    [
        /:thinking:/gi,
        '<img title=":thinking:" src="https://i.imgur.com/ubNK73t.png" style="width: 15px; height: 15px;" />'
    ],
    [
        /:smile:/gi,
        '<img title=":smile:" src="https://i.imgur.com/DxLUYXO.png" style="width: 15px; height: 15px;" />'
    ],
    [
        /:yum:/gi,
        '<img title=":yum:" src="https://i.imgur.com/qRL0q2G.png" style="width: 15px; height: 15px;" />'
    ],
    [
        /:joy:/gi,
        '<img title=":joy:" src="https://i.imgur.com/01K0BM6.png" style="width: 15px; height: 15px;" />'
    ],
    [
        /:scream:/gi,
        '<img title=":scream:" src="https://i.imgur.com/86ysf2e.png" style="width: 15px; height: 15px;" />'
    ],
    [
        /:sob:/gi,
        '<img title=":sob:" src="https://i.imgur.com/9uzlWDA.png" style="width: 15px; height: 15px;" />'
    ],
    [
        /:thumbs_up:/gi,
        '<img title=":thumbs_up:" src="https://i.imgur.com/5UonQzw.png " style="width: 15px; height: 15px;" />'
    ],

    // Terraria Chat Tags
    [
        /\[i(?:.*?):(\d+)\]/g,
        (match, capture) => {
            return '<img class="autoLinkedImage terrariaItem" data-toggle="tooltip" data-placement="right" title="Terraria Item: ' + Items.getItemNameFromID(capture - 1) + '" src="https://t.dark-gaming.com/view/items_images/' + Items.getItemImageNameFromID(capture - 1) + '.png" />';
        }
    ],

    [
        /\[g:(\d+)\]/g,
        (match, capture) => {
            return '<img class="autoLinkedImage terrariaItem" data-toggle="tooltip" data-placement="right" src="https://t.dark-gaming.com/img/' + TerrariaGlyphs.getGlyphImageNameFromID(capture) + '.png" />';
        }
    ],

    // Avatars
    [
        /\{avatar:(\d+)\}/g,
        ""
    ],
];

export default conversions;
