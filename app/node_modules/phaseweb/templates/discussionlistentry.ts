import Discussion from 'phaseclient/discussion';
import SafeString from 'phaseclient/safestring';

export default function DiscussionListEntry(discussion: Discussion) {
    let recentMessageContent = <SafeString> discussion.getRecentMessage().getContent();
    return `
    <div class="discussion" id="disc${discussion.getId()}">
        <div class="discussion-name">${discussion.getName()}</div>
        <div class="spinner-container">
            <div class="spinner">
                <div class="bounce1"></div>
                <div class="bounce2"></div>
                <div class="bounce3"></div>
            </div>
            <span style="display: none" class="discussion-alert glyphicon glyphicon-exclamation-sign"></span>
        </div>
        <div class="discussion-preview">${discussion.getRecentMessage().getDisplayName().getContentWithHtmlEscaped()}: ${recentMessageContent.withoutBbcodeAndHtml()}</div>
    </div>`;
}