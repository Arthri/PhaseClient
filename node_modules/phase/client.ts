import * as $ from 'jquery';
import Network from 'phase/network';
import User from 'phase/user';
import Templates from 'phase/templates';

class Client {
    Id: number;
    username: string;
    systemName: string;
    avatar: string;
    private network: Network;

    onlineUsers: Array<User>;

    // Const
    peopleSection = $("#people-section-phase");

    constructor(options: Object) {
        this.network = new Network(this, options);
    }

    updateInformation(userID: number, username: string, systemName: string, avatar: string): void {
        this.Id = userID;
        this.username = username;
        this.systemName = systemName;
        this.avatar = avatar;
    }

    /* Clears the existing displayed list and puts in an updated one */
    refreshUsersOnlineList(): void {
        let sectionList = this.peopleSection.children(".people-section-list").children('ul');
        sectionList.html('');

        let user;
        for (let i = 0; i < this.onlineUsers.length; i++) {
            user = this.onlineUsers[i];
            sectionList.append(Templates.PeopleEntry(user));
        }
    }
}

export default Client;